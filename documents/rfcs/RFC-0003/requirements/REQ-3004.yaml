rfc_requirement:
  schema_version: "2026-01-24"
  template_version: "2026-01-24"
  id: REQ-3004
  type: FUNCTIONAL
  title: "Lease-based resource management"
  statement: |
    The framework MUST implement lease-based resource control that:
    - Defines Lease with issuer, holder, scope, expiration, and budget
    - Defines Budget with multiple resource dimensions (episodes, tool calls, tokens, duration)
    - Validates lease scope on every operation
    - Enforces lease expiration with automatic invalidation
    - Tracks budget consumption and triggers exhaustion
    - Supports lease derivation for sub-holons with scope reduction
    - Signs leases with registrar authority
  acceptance_criteria:
  - Lease struct contains all specified fields.
  - Budget tracks at least four resource dimensions.
  - Expired leases are rejected on operation attempt.
  - Budget deduction is monotonic and capped at initial value.
  - Derived leases have scope subset of parent lease.
  - Lease signature verification prevents forgery.
  evidence:
    evidence_ids:
    - EVID-3004
    inherited_from_prd: false
    notes:
    - "Validated by lease unit and property tests"
    - "Embodies Axiom IV (Resource Boundedness) from Principia Holonica"

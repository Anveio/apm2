rfc_meta:
  schema_version: "2026-01-25"
  template_version: "2026-01-25"
  rfc:
    id: RFC-0007
    title: "Optimize Rust Build Performance Across Worktrees"
    status: DRAFT
    created_date: "2026-01-25"
    last_updated_date: "2026-01-25"
  binds_to_prd:
    prd_id: NONE
    prd_base_path: ""
    requirement_registry_ref: ""
    evidence_bundle_ref: ""
    prd_meta_ref: ""
    rationale: |
      This is a maintenance RFC for developer experience improvements.
      Build optimization is foundational infrastructure that predates the formal
      PRD system. Requirements are defined inline as RFC-local maintenance requirements.
  protocol_profile:
    id: NONE
    applies: false
    inherited_from_prd: true
    profile_ref: ""
  custody:
    producing_agent_roles:
    - AGENT_AUTHOR
    - AGENT_ARCHITECT
    responsible_domains:
    - DOMAIN_BUILD_RELEASE
    - DOMAIN_DEVELOPER_EXPERIENCE
    authority_signoffs_required:
    - AUTH_ARCHITECTURE
  refs:
    standards:
      requirement_schema: "documents/standards/schemas/02_requirement.schema.yaml#requirement_schema"
      evidence_artifact_schema: "documents/standards/schemas/01_evidence_artifact.schema.yaml#evidence_artifact_schema"
      quality_coverage_schema: "documents/standards/schemas/03_quality_coverage.schema.yaml#quality_coverage_schema"
      gate_review_schema: "documents/standards/schemas/06_gate_review.schema.yaml#gate_review_schema"
      waiver_schema: "documents/standards/schemas/05_waiver.schema.yaml#waiver_schema"
      ticket_meta_schema: "documents/standards/schemas/04_ticket_meta.schema.yaml#ticket_meta_schema"
      lint_spec: "documents/standards/lint/LINT_SPEC.yaml#lint_spec"
  implementation:
    language: Rust
    edition: "2021"
    crate_name: "project-wide configuration"
    implementation_approach: |
      This RFC introduces build optimization strategies for the apm2 project
      to reduce compilation times across multiple git worktrees. The optimizations
      include:
      1. Using the mold linker for faster link times
      2. Enabling sccache for shared compilation cache across worktrees
      3. Documenting cargo-nextest as the recommended test runner
      4. Configuring incremental builds for local development
      5. Updating CI to use optimized settings

      All changes are configuration-only with no code changes to the crates.
    key_dependencies:
    - name: mold
      version: "2.x"
      purpose: "Faster linking (already installed at /usr/bin/mold)"
      already_in_xtask: false
    - name: sccache
      version: "0.8.x"
      purpose: "Shared compilation cache across worktrees"
      already_in_xtask: false
    - name: cargo-nextest
      version: "0.9.x"
      purpose: "Faster parallel test execution"
      already_in_xtask: false

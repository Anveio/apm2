prd_traceability:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"

  requirement_registry:
    mode: "FILE_PER_REQUIREMENT"
    local_root: "requirements/"
    local_requirements:
      - requirement_id: "REQ-0001"
        requirement_ref: "requirements/REQ-0001.yaml#prd_requirement"
      - requirement_id: "REQ-0002"
        requirement_ref: "requirements/REQ-0002.yaml#prd_requirement"
      - requirement_id: "REQ-0005"
        requirement_ref: "requirements/REQ-0005.yaml#prd_requirement"
      - requirement_id: "REQ-0006"
        requirement_ref: "requirements/REQ-0006.yaml#prd_requirement"
      - requirement_id: "REQ-0008"
        requirement_ref: "requirements/REQ-0008.yaml#prd_requirement"
      - requirement_id: "REQ-0009"
        requirement_ref: "requirements/REQ-0009.yaml#prd_requirement"
      - requirement_id: "REQ-0010"
        requirement_ref: "requirements/REQ-0010.yaml#prd_requirement"
      - requirement_id: "REQ-0012"
        requirement_ref: "requirements/REQ-0012.yaml#prd_requirement"
      - requirement_id: "REQ-0013"
        requirement_ref: "requirements/REQ-0013.yaml#prd_requirement"
      - requirement_id: "REQ-0014"
        requirement_ref: "requirements/REQ-0014.yaml#prd_requirement"
      - requirement_id: "REQ-0015"
        requirement_ref: "requirements/REQ-0015.yaml#prd_requirement"
      - requirement_id: "REQ-0016"
        requirement_ref: "requirements/REQ-0016.yaml#prd_requirement"
      - requirement_id: "REQ-0017"
        requirement_ref: "requirements/REQ-0017.yaml#prd_requirement"
    imports: []

  mapping:
    requirement_to_sections:
      - requirement_id: "REQ-0001"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
      - requirement_id: "REQ-0002"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
          - "06_constraints_invariants.yaml#prd_constraints_invariants"
      - requirement_id: "REQ-0005"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
          - "06_constraints_invariants.yaml#prd_constraints_invariants"
      - requirement_id: "REQ-0006"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
          - "06_constraints_invariants.yaml#prd_constraints_invariants"
      - requirement_id: "REQ-0008"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
      - requirement_id: "REQ-0009"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
          - "06_constraints_invariants.yaml#prd_constraints_invariants"
      - requirement_id: "REQ-0010"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
          - "06_constraints_invariants.yaml#prd_constraints_invariants"
      - requirement_id: "REQ-0012"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
          - "06_constraints_invariants.yaml#prd_constraints_invariants"
      - requirement_id: "REQ-0013"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
      - requirement_id: "REQ-0014"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
      - requirement_id: "REQ-0015"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
          - "06_constraints_invariants.yaml#prd_constraints_invariants"
      - requirement_id: "REQ-0016"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
          - "06_constraints_invariants.yaml#prd_constraints_invariants"
      - requirement_id: "REQ-0017"
        section_refs:
          - "04_solution_overview.yaml#prd_solution_overview"
          - "06_constraints_invariants.yaml#prd_constraints_invariants"

    metric_to_requirements:
      - metric_id: "MET-0001"
        name: "tool invocations"
        requirement_ids:
          - "REQ-0001"
          - "REQ-0002"
      - metric_id: "MET-0002"
        name: "ledger-derived state"
        requirement_ids:
          - "REQ-0005"
          - "REQ-0006"
      - metric_id: "MET-0003"
        name: "finding signature stability"
        requirement_ids:
          - "REQ-0012"
      - metric_id: "MET-0004"
        name: "recurrence reduction"
        requirement_ids:
          - "REQ-0013"
          - "REQ-0014"
      - metric_id: "MET-0005"
        name: "gate decisions as events"
        requirement_ids:
          - "REQ-0008"
          - "REQ-0009"
      - metric_id: "MET-0006"
        name: "offline operation"
        requirement_ids:
          - "REQ-0016"

    constraint_to_requirements:
      - constraint_id: "CNS-0001"
        name: "forge API isolation"
        requirement_ids:
          - "REQ-0015"
          - "REQ-0016"
          - "REQ-0017"
      - constraint_id: "CNS-0002"
        name: "ledger authority"
        requirement_ids:
          - "REQ-0005"
          - "REQ-0006"
      - constraint_id: "CNS-0003"
        name: "finding determinism"
        requirement_ids:
          - "REQ-0012"
      - constraint_id: "CNS-0004"
        name: "bounded refinement"
        requirement_ids:
          - "REQ-0002"
      - constraint_id: "CNS-0005"
        name: "evidence completeness"
        requirement_ids:
          - "REQ-0009"
          - "REQ-0010"

    invariant_to_requirements:
      - invariant_id: "INV-0001"
        name: "stable actor identity"
        requirement_ids:
          - "REQ-0001"
          - "REQ-0005"
      - invariant_id: "INV-0002"
        name: "append-only ledger"
        requirement_ids:
          - "REQ-0005"
          - "REQ-0006"
      - invariant_id: "INV-0003"
        name: "lease uniqueness"
        requirement_ids:
          - "REQ-0001"
          - "REQ-0002"
      - invariant_id: "INV-0004"
        name: "deterministic reducers"
        requirement_ids:
          - "REQ-0005"
          - "REQ-0006"
          - "REQ-0012"
      - invariant_id: "INV-0005"
        name: "content-addressed blobs"
        requirement_ids:
          - "REQ-0009"
          - "REQ-0010"
      - invariant_id: "INV-0006"
        name: "deterministic adjudication"
        requirement_ids:
          - "REQ-0008"
          - "REQ-0009"

    evidence_to_requirements:
      # Plan Creation & Refinement Evidence
      - evidence_id: "EVID-0001"
        requirement_ids:
          - "REQ-0001"
          - "REQ-0002"
          - "REQ-0003"
          - "REQ-0004"
        description: "Evidence for plan creation and bounded holonic refinement"
      # Holonic Episodes & Reproducibility Evidence
      - evidence_id: "EVID-0002"
        requirement_ids:
          - "REQ-0002"
          - "REQ-0003"
          - "REQ-0005"
          - "REQ-0006"
        description: "Evidence for bounded episode execution and spec snapshot reproducibility"
      # ChangeSet & GitHub Adapter Independence Evidence
      - evidence_id: "EVID-0003"
        requirement_ids:
          - "REQ-0005"
          - "REQ-0015"
          - "REQ-0016"
          - "REQ-0017"
        description: "Evidence for ChangeSet abstraction and GitHub adapter independence"
      # Finding Signatures & Clustering Evidence
      - evidence_id: "EVID-0004"
        requirement_ids:
          - "REQ-0007"
          - "REQ-0012"
          - "REQ-0013"
        description: "Evidence for deterministic finding signatures and clustering"
      # Countermeasure Effectiveness Evidence
      - evidence_id: "EVID-0005"
        requirement_ids:
          - "REQ-0013"
          - "REQ-0014"
        description: "Evidence for countermeasure effectiveness tracking"
      # Internal Gate System Evidence
      - evidence_id: "EVID-0006"
        requirement_ids:
          - "REQ-0004"
          - "REQ-0007"
          - "REQ-0008"
          - "REQ-0009"
          - "REQ-0010"
          - "REQ-0011"
          - "REQ-0020"
        description: "Evidence for internal gate execution and outcomes"
      # GitHub Sync Adapter Evidence
      - evidence_id: "EVID-0007"
        requirement_ids:
          - "REQ-0015"
          - "REQ-0016"
        description: "Evidence for GitHub sync adapter projection"
      # Operator Console & Audit Evidence
      - evidence_id: "EVID-0008"
        requirement_ids:
          - "REQ-0011"
          - "REQ-0018"
          - "REQ-0019"
          - "REQ-0020"
        description: "Evidence for operator console and audit timeline"
      # Cryptographic Signing Evidence
      - evidence_id: "EVID-0016"
        requirement_ids:
          - "REQ-0009"
          - "REQ-0013"
          - "REQ-0019"
          - "REQ-0020"
        description: "Evidence for Ed25519 signature verification and authority checks"
